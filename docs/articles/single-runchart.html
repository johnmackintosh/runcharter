<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>single runchart • runcharter</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="single runchart">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">runcharter</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/runcharter.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/how-to-create-multiple-runcharts.html">How to create multiple runcharts</a>
    </li>
    <li>
      <a href="../articles/plot-explanation.html">plot-explanation</a>
    </li>
    <li>
      <a href="../articles/single-runchart.html">single runchart</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/johnmackintosh/runcharter">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>single runchart</h1>
                        <h4 class="author">John MacKintosh</h4>
            
            <h4 class="date">2018-12-07</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/johnmackintosh/runcharter/blob/master/vignettes/single-runchart.Rmd"><code>vignettes/single-runchart.Rmd</code></a></small>
      <div class="hidden name"><code>single-runchart.Rmd</code></div>

    </div>

    
    
<p>Runcharts are easy to create and analyse on an individual basis, hence they are widely used in healthcare quality improvement. However, if you have many runcharts to analyse, the process of updating medians and amending plots quickly becomes very labour intensive. This package aims to make it easier to analyse multiple run charts at once - for example visualising all hospital ward areas performance with a newly introduced safety initiative.</p>
<div id="the-runcharter-function---input" class="section level2">
<h2 class="hasAnchor">
<a href="#the-runcharter-function---input" class="anchor"></a>The runcharter function - input</h2>
<p>The function requires a simple three column dataframe, with the following column names</p>
<ul>
<li>“grp” : a character column indicating a grouping variable to identify each individual run chart and for faceted plots</li>
<li>“date” : a column of type ‘date’.</li>
<li>“y” : the variable / value to plot.</li>
</ul>
</div>
<div id="runcharter-function-arguments" class="section level2">
<h2 class="hasAnchor">
<a href="#runcharter-function-arguments" class="anchor"></a>runcharter function arguments</h2>
<ul>
<li>“df” : a three column dataframe with columns named ‘grp’, ‘date’ and ‘y’ as specified above</li>
<li>“med_rows” : How many rows / data points should the initial baseline median be calculated over?</li>
<li>“runlength” : How long a run of consecutive points do you want to find, before you rebase the median? The median will be rebased using all useful observations (points on the median are not useful, and are ignored).</li>
<li>“chart_title” : The main title for the chart</li>
<li>“chart_subtitle” : A subtitle for the chart</li>
<li>“direction” : Is improvement indicated by a run “above” the median, or “below” the median? The function will only look for successive runs in one direction. It will find multiple runs below the median, or multiple runs above the median, but will not look for alternating runs or runs in both directions at once.</li>
<li>faceted : defaults to TRUE. Set to FALSE if you only need to plot a single runchart.</li>
<li>facet_cols : the number of columns in a faceted plot - only required if faceted is set to TRUE, otherwise ignored</li>
</ul>
</div>
<div id="plot-one-chart" class="section level2">
<h2 class="hasAnchor">
<a href="#plot-one-chart" class="anchor"></a>Plot one chart</h2>
<p>This example shows how to filter the built in dataset ‘signals’, for an individual ward, and look for successive runs below the baseline median. The original median is calculated over the first 13 data points, and we are looking for a run of 9 consecutive points below the median.</p>
<p>The function wil inform you if any signals are found, and will exit when the remaining number of rows is less than the desired run length, or there are no further runs of the desired run length.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(runcharter)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'dplyr'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span>

single &lt;-<span class="st"> </span>signals <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/filter">filter</a></span>(grp <span class="op">==</span><span class="st"> "WardX"</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/runcharter.html">runcharter</a></span>(single,
             <span class="dt">med_rows =</span> <span class="dv">13</span>,
             <span class="dt">runlength =</span> <span class="dv">9</span>,
             <span class="dt">chart_title =</span> <span class="st">"Analysis of runs below median"</span>,
             <span class="dt">chart_subtitle =</span> <span class="st">"Ward X"</span>,
             <span class="dt">direction =</span> <span class="st">"below"</span>,
             <span class="dt">faceted =</span>  <span class="ot">FALSE</span>)
<span class="co">#&gt; all sustained runs found, not enough rows remaining for further analysis</span></code></pre></div>
<div class="figure">
<img src="single-runchart_files/figure-html/unnamed-chunk-1-1.png" alt="One plot, one run below the median" width="576"><p class="caption">
One plot, one run below the median
</p>
</div>
<p>The function will print the plot, and return a list, containing:</p>
<ul>
<li>a ggplot2 object,<br>
</li>
<li>a dataframe / tibble containing the rows of data used to calculate the baseline median</li>
<li>if applicable, a dataframe / tibble showing the points in each sustained period of improvement.</li>
</ul>
<p>The latter 2 items can be retrieved from the list and used to create new plots (if, for example, you would like different plot themes or colours from the package defaults)</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#the-runcharter-function---input">The runcharter function - input</a></li>
      <li><a href="#runcharter-function-arguments">runcharter function arguments</a></li>
      <li><a href="#plot-one-chart">Plot one chart</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by John MacKintosh.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.2.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
